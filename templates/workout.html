{% extends "layout.html" %}
{% block content %}
<head id="workout">
</head>
    <div class="content-section col-md-6">
        <form method="POST" onsubmit="return validateForm()" name='workoutform'>
            {{ form.hidden_tag() }}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Burnout Entry</legend>
                <!-- <div class="form-group">
                    <label class="form-control-label">Date</label>
                    <p class="form-control form-control-lg" name='time'>{{ time }}</p>
                </div> -->
                <div class="form-group">
                    <label class="form-control-label">Date</label>
                    <input type="date" name="target_date" required>
                </div>
                <div class="form-group">
                    {{ form.burnout.label(class="form-control-label") }}
                    {{ form.burnout(class="form-control form-control-lg") }}
                    {% if form.burnout.errors %}
                        <small class="form-text text-danger">
                            {{ form.burnout.errors[0] }}
                        </small>
                    {% endif %}
                </div>
            </fieldset>
            <div class="form-group">
                {{ form.submit(class="btn btn-outline-info") }}
            </div>
        </form>
    </div>

    <script>
        function validateForm() {
            var burnoutField = document.forms['workoutform']['burnout'].value;
            console.log('Burn Out field:', burnoutField);
            // Allow integers
            if (!/^\d+(\.\d+)?$/.test(burnoutField)) {
                alert('Burn Out field must be a number');
            }    
            return true; // Allow form submission
        }
    </script>
    
{% endblock content %}
